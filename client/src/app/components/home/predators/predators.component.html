<body>

  <!-- <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher> -->

  <div id="screen">
    <div id="cover"></div>
    <div id="content">

      <app-predator-profile-user></app-predator-profile-user>

      <div class="menu {{active}}">
        <ul>
          <li (click)="takePicture()">
            <a>
              <img src="./assets/icon/add-photo.svg">
              <span>{{'general.takeAPicture' | translate}}</span>
            </a>
          </li>
          <li (click)="addManually()">
            <a>
              <img src="./assets/icon/add-without-photo.svg">
              <span>{{'general.manually' | translate}}</span>
            </a>
          </li>
        </ul>
      </div>
      <div #createNewEntryButton class="menu-btn-container take-picture" (click)="openAction()">
        <button aria-pressed="false" aria-label="Open Menu" class="menu-btn">
          <img src="./assets/icon/add.svg">
        </button>
      </div>
      <app-loader *ngIf="loader"></app-loader>
      <div class="no-data" *ngIf="!loader && (!predators || !predators.length)">
        <img src="./assets/icon/capture-photo.png">
        <h6>{{'general.startTakingPhotos' | translate}}</h6>
      </div>
      <div *ngIf="!loader&&predators.length" id="user-publications">
        <div *ngFor="let item of predators; let i = index">
          <img *ngIf="getMorePhotosIcon(item.gallery)" src="./assets/icon/more-photos.svg" class="more-photos">
          <img class="predator-image"
            ngSrc="{{loadedImage[i] ? getImageForPreviewFromGallery(item.gallery) : './assets/icon/loader.gif'}}"
            onerror="this.onerror=null;this.src='./assets/icon/no-image.svg'" [width]="300" [height]="300"
            (click)="showDetails(item.id)" (load)="loadImage(i)">
        </div>
      </div>
    </div>
  </div>


  <app-predator-edit *ngIf="imageSource" #editFormComponent [gallery]="imageSource"
    (refreshEmit)="refresh()"></app-predator-edit>

</body>